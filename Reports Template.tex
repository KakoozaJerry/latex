%FROMHERE
\documentclass[12pt]{report}
\usepackage{bm}
\usepackage[a4paper,bindingoffset=25mm,%
            left=0mm,right=15mm,top=15mm,bottom=15mm,%
            footskip=5mm]{geometry}

%\usepackage{geometry}


\usepackage{relsize}
%\usepackage[Lenny]{fncychap}
\usepackage{verbatim}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{listings}
\usepackage{etoolbox}

\usepackage{empheq}
\usepackage{longtable}
\geometry{
	a4paper,
	left = 25.5mm,
	top = 0mm,
	bottom = 25.5mm,
}
\usepackage{amsmath, amsthm, amssymb}
%\usepackage{nomencl}HERE
\usepackage{amsmath}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{graphicx}
\usepackage{epstopdf}
%\usepackage{tabularx}
%\usepackage{breqn} 
\usepackage{caption}
\usepackage{float}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{graphicx}
\usepackage{bm}
\usepackage{amssymb}
\usepackage{array}
\usepackage{setspace}
\usepackage{fancyhdr}
%\usepackage{citesort}
\usepackage{epstopdf}
\usepackage{xcolor}
%HERE
\usepackage{epstopdf}
\usepackage{caption}
\usepackage{float}
\usepackage{latexsym}
\usepackage{array}
\usepackage{acronym}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{xcolor}
\usepackage{multicol}
\usepackage{lipsum}
\usepackage{verbatim}
\usepackage{layaureo}
\usepackage{chngpage}
\usepackage{amsfonts}
\usepackage{makeidx}
\usepackage{slashbox}
\makeindex
\usepackage{enumerate}
\usepackage{calligra}
\usepackage[font={footnotesize}]{caption}
\usepackage[scr=boondoxo,
scrscaled=1.15,]{mathalfa}
\usepackage{multirow}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{url}
\usepackage[bookmarks, colorlinks=false, pdfborder={0 0 0}, pdftitle={<pdf title here>}, pdfauthor={<author's name here>}, pdfsubject={<subject here>}, pdfkeywords={<keywords here>}]{hyperref} 

%TOHERE

%\usepackage[style=ieee]{cite}
%\usepackage{cite}
%\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
%\usepackage[square,numbers]{natbib}
%\bibliographystyle{IEEEtranN}

\usepackage{setspace}
\onehalfspacing %doublespace %

\usepackage{amssymb,amsmath,amsthm}

\usepackage{cite}

\setlength{\intextsep}{1ex}

%\usepackage[dvips]{graphicx}
\usepackage{graphicx}
\include{epstopdf}
\renewcommand{\qedsymbol}{\rule{0.4em}{0.4em}}
\usepackage{tabularx}


\usepackage{lipsum}  
%\usepackage{cite}

\usepackage{float}
\setlength{\intextsep}{1ex}
\usepackage[shortlabels]{enumitem}
\usepackage{multirow}
\usepackage[font={small}]{caption}
\usepackage{nameref}

\usepackage[justification=centering]{caption}
\usepackage{caption,subcaption}
\usepackage[toc,page]{appendix}



\setlength{\parskip}{10pt}
\setlength{\parindent}{0pt}

\renewcommand{\bibname}{References}


\setlength\parindent{0pt}
\setlength{\unitlength}{1cm} 

%\documentclass{article}
\begin{document}

\begin{titlepage}
\centering

\begin{figure}[H]
\centering
\includegraphics[width=0.4\textwidth]{MAK_Logo2_png.png}%
\end{figure}


\textsc{}

\vspace{\stretch{0.1}}

{\huge \textsc{Design of a machine learning based system for pharmaceutical purchases}  \\}
\rule{3in}{0.4pt}

\vspace{\stretch{0.4}}

{\Large\textbf{Abraham Jerry Kakooza}	 \\}
Reg No.: 16/U/327\\ \vspace{2cm}
{\large \textbf{Department of Electrical and Computer Engineering} \\
School of Engineering \\
College of Engineering, Design, Art and Technology}



\vspace{\stretch{0.3}}

{
Supervisor: \textbf{Dr Andrew Katumba}    \\
Co-supervisor: \textbf{Prof. Eng. Dr. Peter Lating, iLabs Principal Investigator} }

\vspace*{\stretch{0.2}}

% Add date in desired format
December 7, 2020


\vspace*{\stretch{0.2}}
% Add the statement of what the report represents
{
A Report submitted in partial fulfillment of the requirements for the \\ \textbf{ Degree of Bachelor of Science in Telecommunications Engineering} \\ at Makerere University. }


\end{titlepage}



%\maketitle
				
%\beforeabstract %\input{abstract} 



\section*{Declaration}

\textbf{ABRAHAM KAKOOZA JERRY}

\emph{Academic Integrity Pledge:}

\emph{
  I HAVE ABIDED BY THE MAKERERE UNIVERSITY ACADEMIC INTEGRITY POLICY ON THIS
ASSIGNMENT.
}
I also confirm that this report is only prepared for my academic requirement, not for any other
purpose.


\emph{Signature} \hspace{0.5cm} \makebox[1.5in]{\hrulefill} \hspace{0.5cm} \emph{Date} \hspace{0.5cm} \makebox[1.5in]{\hrulefill}

\newpage


\section*{Approval}

\vspace{2cm}
\begin{center}
  This report has been submitted with approval and under the supervision of the following
  supervisors.\\
  
  Supervisor

  \emph{Dr.Andrew Katumba} \hspace{0.5cm} \makebox[1.5in]{\hrulefill} \hspace{0.5cm} \emph{Date} \hspace{0.5cm} \makebox[1.5in]{\hrulefill}

  Co-Supervisor

  \emph{Prof.Peter Lating} \hspace{0.5cm} \makebox[1.5in]{\hrulefill} \hspace{0.5cm} \emph{Date} \hspace{0.5cm} \makebox[1.5in]{\hrulefill}


\end{center}




\newpage


\section*{Dedication}

\vspace{2cm}
\begin{center}
I dedicate this to my parents who have been there for me in this entire study period both emotionally and financially, my supervisor Dr. Andrew Katumba, my mentors Tibabwetiza Joel, my partner Kevin Upyem, and lastly the entire ilabs team Mark Phillip and Ronald Ogwang .
\end{center}



\newpage

\section*{Acknowledgments}
First of all, I would like to thank God for enabling me to complete my Final Year Project successfully. I also extend my gratitude ti the ilabs at Mak Project for the opportunity to work with them which has given me a wealth of skills and experience to build my engineering career.\\

I highly acknowledge my main supervisor Dr. Andrew Katumba and my co-supervisor Prof. Peter Lating for the support, guidance and knowledge provided at each step of this project.\\
I highly acknowledge my mentors David Tusubira and Tibabwetiza Joel for the guidance and support.

Lastly I would like to thank the Soteria Pharmacy community, Ms. Brenda , Ms.Lydia Ssebunya and the ilabs team Mark Phillip and Ogwang Ronnie for the collective support. 

\newpage



\section*{Abstract}


To obtain inherent laws from vast amounts of pharmaceutical sales data and to provide valuable information to pharmacy managers, this work validates different methods and approaches to perform a sales forecast. Part of the data is used to train a neural network algorithm, with backpropagation for some methods, step by step, where shallow nets face selected scenarios, with different space-time data considerations. 

\indent In each method, by using a sum of square differences, and a peak search procedure, a reasonable quality in the obtained abstract representations is pursued. First, an auto-encoder is trained to develop in its hidden layer neural data abstractions about a random-moving window. Thereafter by using the abstraction of the net plus recently captured information, a second shallow net is trained to produce its own one-day ahead estimates, using new timing and data procedures. After training, the whole stacked system’s performance is compared with the naive forecast scenario’s mean square error and if it's a better value, the method is used to produce stable daily forecasting for assorted products and periods. The system has been tested in real-time with real data.

\newpage

\tableofcontents

\newpage

\listoffigures

\newpage

\listoftables

\newpage



\section*{List of Abbreviations}

\begin{tabular}{p{3cm} l}
	ARIMA	& Auto Regression Integrated Moving Average\\
	LSTM	& Long Short Term Memory\\	
  MSE & Mean Square Error\\
  KPI & Key Performance Indicator\\
  API & Application Programming Interface

\end{tabular}


\newpage

\chapter{Introduction}

\section{Background}
One of the responsibilities of pharmacies in  Uganda is to have a minimum stock of medicines.This ensures patients can have it when prescribed.

In addition, pharmacies need to get a good forecast of the medication needs due to the short term validity of many medicines and the need to control stock levels.This avoids excessive costs and loss of customers due to stock outages.\\

A good sales forecast is usually associated with striking a balance between stock costs and adequate satisfaction of customer demand.People act on the basis of forecasting models whether they are on paper or in their heads. You are better off quantifying these estimations so you can discuss them rationally as opposed to making them based on intuition.\\

To specific case of pharmacies in Uganda, the problem is of particular importance due to the short cycle life of many products and the importance of quality which is in turn strongly linked to public health.

%Before digital technology dominated the world, the forecasting process was done manually by experienced individuals in the domain. This intuition required a lot of experience and was prone to error. Such a multifaceted problem started to realize the need for automating the pharmacy sales forecasting process. Research has been carried out with statistical, machine learning, deep learning and ensemble techniques to achieve more accurate sales forecasts. \cite{Perera2019}\\

During our research study of Soteria Pharmacy procurement process with an interview of Ms.Brenda the incharge of this, we realised she uses personal judgement of current stock levels athand and the rate at which people come in to ask for a ceratin drug then determine how much more stock should be purchased.Given her difficulties in accurately predicting the future sales,this report explores the product sales forecast at the indiviual level of this Pharmacy.I made a forecast for 5 sold drugs.The forecast was based on analysis of  historical data for a period of 24 months and future results analyses of 50 days determined.ARIMA and LSTM methods were used in the sales forecast of which the best model was recommended including a conclusive way of improving our results.
\section{Aims and Objectives}
The main aim of the research project was to precisely predict sales of drugs and medical supplies.

The specific objectives  were:

\begin{itemize}[topsep=0pt]

\item To collect datasets of previous sales and purchases from Soteria Pharmacy.

\item To train and validate datasets with ARIMA and LSTM models.

\item To optimize the best model algorithm for accurate performance.

\item To develop  a web API for pharmacies.

\end{itemize}













\section{Contributions of the Project}

The following major contributions have been accomplished during the course of this research:

\begin{enumerate}[topsep=0pt]

\item Performed a data cleaning task, analysis and training with the various Machine learning models and came up with a graphical output.

\item Developed a robust neural network model that could accurately predict future sales for a period of 50 days using a 2 year period worth of sales and purchases information.

\item Proposed a multivariate input approach with other characteristics such as precipitational weather information and promotional sales.

\end{enumerate}






\section{Organization of the Report}

This report has 3 chapters. 

\begin{itemize}
	
	\item   Introduction
	\item   Analysis and Findings which characterizes essential concepts, an overview of the categories and description of the main methods associated with the several techniques of time series analysis.
	\item 	Conclusion presents some final considerations and future work proposals.
\end{itemize}

% Describe what each chapter discusses.















\chapter{Literature Review}
% Usually Literature Review

\section{Introduction}

% Start with an introduction
People act on the basis of forecasting models whether they are on paper or in their heads. One is better off quantifying these estimations so as to discuss them rationally as opposed to making them based on intuition. For pharmaceutical distribution companies, it is essential to get good estimates of drugs, due to the short shelf life of many medicines and the need to control stock levels, to avoid excessive inventory costs while guaranteeing customer demand satisfaction, and thus decreasing the possibility of a loss of customers due to stock outages.
Stock management, transportations, and financial spends contain a high percentage of total pharmaceutical companies’ expenses. As a rule, companies pay immediately when buy medications from manufacturers, and then sales compensate these spend gradually. This gap is a danger of unplanned expenses to occur. Therefore, the majority of distributors in this industry look for modern and precise forecasting methods of future sales to decrease purchase and storage costs and to increase profit by meeting clients’ needs timely.
Common existing forecasting methods are ineffective for pharmaceutical companies because these methods require a large dataset of each medication sales. In its turn, medications are constantly replaced by analogs or refreshed to enhance pharmacological effects or reduce collateral effects.


\section{Literature Review}

% Add sections and (sub)subsections as appropriate
Consequently, it is required to build an accurate forecasting model of pharmaceutical preparations sales using one of the machine learning methods taking into account constant medications refreshment and a lack of previous sales data \cite{1}.

Before digital technology dominated the world, the forecasting process was done manually by experienced individuals in the domain. This intuition required a lot of experience and was prone to error. Due to this reason, they started realizing the need for automating the pharmacy sales forecasting process. 
Thus, research and experiments were carried out with statistical, machine learning, deep learning, and ensemble techniques to achieve more accurate sales forecasts. \cite{2}
Algorithms to illustrate inherent laws in large amounts of data and to forecast future data patterns have been researched since 1920. However no breakthroughs till 1980. \cite{3}
In the deep learning world, state-of-the-art performance has gained a good reputation in fields like object recognition, \cite{4} speech recognition \cite{5}, natural language processing \cite{6},
physiological effect modeling \cite{7}, and many others. More recently papers on time-series prediction or classification with deep neural networks have been reported. \cite{8,9,10,11}
Aimed at obtaining inherent laws of historical data series in pharmaceutical sales, and forecasting the demand, controlling the inventory, reducing the costs, and improving the service level, this paper designs research on the data records from a pharmacy and presents different forecasting algorithms. The testing results provide support for the fact that these algorithms greatly improve the forecast accuracy from the naive forecasting method.



\section{Summary}
% End your chapter with a short summary.































\chapter{Methodology}

\section{Machine Learning}

\subsection{Introduction}

Machine learning is a subfield of artificial intelligence (AI). The goal of machine learning generally is to understand the structure of data and fit that data into models that can be understood and utilized by people.

Although machine learning is a field within computer science, it differs from traditional computational approaches. In traditional computing, algorithms are sets of explicitly programmed instructions used by computers to calculate or problem solve. Machine learning algorithms instead allow for computers to train on data inputs and use statistical analysis in order to output values that fall within a specific range. Because of this, machine learning facilitates computers in building models from sample data in order to automate decision-making processes based on data inputs.

Any technology user today has benefitted from machine learning. Facial recognition technology allows social media platforms to help users tag and share photos of friends. Optical character recognition (OCR) technology converts images of text into movable type. Recommendation engines, powered by machine learning, suggest what movies or television shows to watch next based on user preferences. Self-driving cars that rely on machine learning to navigate may soon be available to consumers.

Machine learning is a continuously developing field. Because of this, there are some considerations to keep in mind as you work with machine learning methodologies, or analyze the impact of machine learning processes.\cite{12}


\section{Materials and Methods}

% Short Introduction
We analyzed daily sales data for a period of 2 years by arranging it in a proper format to easily perform predictions with the same data file using Microsoft excel. 
It was imported into the google colab jupyter notebook by a clone from GitHub, then using pandas passed into a variable for further processing.
From box-plots, Cotrimoxazole had more outliers than the rest of the drugs which made it harder to predict future sales.
 
 We also checked for presence of seasonality and trend with a 30 day and 365 day rolling mean graph. 


\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{images/download.png}
  \caption{Box plots of the 5 selected drugs}
  \label{fig:ecg}
  \end {center}
\end{figure}

\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{images/download (10).png}
  \includegraphics[width=0.75\textwidth]{images/download (12).png}
  \caption{Illustration plot of the trend and rolling mean.}
  \label{fig:ecg}
  \end {center}
\end{figure}


\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{images/new.png}
  \caption{Summary workflow chart.}
  \label{fig:ecg}
  \end {center}
\end{figure}

Included Components
•	Keras: The Python Deep Learning library.
•	Tensorflow: An open-source software library for Machine Intelligence.
•	Github:An open-source platform to store code.
•	GPU:A processing unit for computationally intense algorithms.


\section{Time Series Forecast}
  
A time series is usually modelled through a stochastic process Y(t), i.e. a sequence of random variables. In a forecasting setting we find ourselves at time t and we are interested in estimating Y(t+h), using only information available at time t.\cite{13}
Anything that is observed sequentially over time is a time series.
When forecasting time series data, the aim is to estimate how the sequence of observations will continue into the future.
Forecasting involves taking models fit on historical data and using them to predict future observations.

Descriptive models can borrow for the future (i.e. to smooth or remove noise), they only seek to best describe the data.
The skill of a time series forecasting model is determined by its performance at predicting the future. This is often at the expense of being able to explain why a specific prediction was made, confidence intervals and even better understanding the underlying causes behind the problem.

\textbf{Components of Time Series} \\
Time series analysis provides a body of techniques to better understand a dataset.

Perhaps the most useful of these is the decomposition of a time series into 4 constituent parts:

\begin{enumerate}
  \item Level. The baseline value for the series if it were a straight line.
  \item Trend. The optional and often linear increasing or decreasing behavior of the series over time.
  \item Seasonality. The optional repeating patterns or cycles of behavior over time.
  \item Noise. The optional variability in the observations that cannot be explained by the model.
All time series have a level, most have noise, and the trend and seasonality are optional.

\end{enumerate}

\section{Data and Results}

% Add sections and (sub)subsections as appropriate
\subsection{Naïve forecasting method}
This was the baseline method since it is what most pharmacists use during the normal day to day operation of their business for drug replenishments. Below are the results in graphical format.Our forecast values were based on the last 50 days of our 2 year period data sample.
This uses a day time shift of the previous sales to predict future sales. As a case study for soteria pharmacy in luweero district, they normally use intuition similar to this whereby the next day purchases are made basic on the previous day sales and hoping the same trend.
With our time day shift results , we modelled a naive forecasting scenario and were able to assume this as the result of what is currently being used considering most pharmacy procurement personnel use intuition.Figure 3.4 shows the plots obtained from the naive forecast scenario.

\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{images/download (13).png}
  \caption{Illustration plot of the naïve forecasting results.}
  \label{fig:ecg}
  \end {center}
\end{figure}

% Add other chapters and their (sub)(sub)sections as appropriate

\subsection{ARIMA  method}

ARIMA, short for ‘Auto Regressive Integrated Moving Average’ is actually a class of models that ‘explains’ a given time series based on its own past values, that is, its own lags and the lagged forecast errors, so that equation can be used to forecast future values.\\

An ARIMA model is characterized by 3 terms: p, d, q

where,\\

p is the order of the Auto Regression(AR) term\\

q is the order of the Moving Average(MA) term\\

d is the number of differencing required to make the time series stationary\\


A pure Auto Regressive (AR only) model is one where Yt depends only on its own lags. That is, Yt is a function of the ‘lags of Yt’.\\

Likewise a pure Moving Average (MA only) model is one where Yt depends only on the lagged forecast errors.\\


 First, method arma\_order\_select\_ic was used to determine initial p and q parameters. The method computes Akaike’s Information Criterion (AIC) for many ARIMA models and chooses the best configuration. However, AIC is not used to score accuracy of the forecasting methods in this research. Mean squared error is used instead. For that, reason, grid search optimization method was applied, where different combinations of the hyper-parameters were used to calculate MSE and then, the combination producing the least MSE was chosen as optimal. Grid search optimization for rolling forecast produced the following best combinations of the hyper-parameters:
 
Amoxyclin\_caps – Best ARIMA(1,0,0) MSE=1524.745


\subsection{Forecasting with LSTM methods}
Long Short-Term Memory (LSTM) networks are a type of recurrent neural network capable of learning order dependence in sequence prediction problems.\\
Recurrent neural networks are different from traditional feed-forward neural networks.

This difference in the addition of complexity comes with the promise of new behaviors that the traditional methods cannot achieve.\\
Long-term forecasting validation has been done with three LSTM configurations: Vanilla LSTM, Stacked LSTM and Bi-directional LSTM. Relu activation function was used, optimizer was Adam and loss function was Mean Squared Error. The best results were achieved with training the model in 400 epochs. Before fitting, all data was standardized (rescaled in interval -1,1) and transformed to data for supervised problem.
Number of past observations tested in input sequences was 5.

\subsubsection{Vanilla LSTM}
This is where we have one hidden layer within the neural network.
In order to get reproducible results in forecasting with LSTM, following values are fixed: seed value, 'PYTHONHASHSEED' environment variable, Python's, numpy's and Tensorflow's built-in pseudo-random generators. A new global Tensorflow session is configured.Below are the results from the vanilla LSTM model.
This model is unidirectional in the sense that the current output is only influenced by the past states and the current input.
\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{dia.png}
  \caption{Vanilla LSTM model Graphical Layout.}
  \label{fig:ecg}
  \end {center}
\end{figure}

\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{VanillaSummary.png}
  \caption{Vanilla LSTM model Summary.}
  \label{fig:ecg}
  \end {center}
\end{figure}
  
  \begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=0.75\textwidth]{images/vanilla1 (2).png}
  \includegraphics[width=0.75\textwidth]{images/vanilla1 (4).png}
  \caption{Vanilla LSTM model results.}
  \label{fig:ecg}
  \end {center}
  \end{figure}
  
  
 

  \subsubsection{Stacked LSTM method}

This is also a unidirectional model where we have more than one hidden layer within the neural network.
\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{StackedLstm.png}
\caption{Stacked LSTM model Graphical Layout.}
\label{fig:ecg}
\end {center}
\end{figure}

\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{StackedLstm1.png}
\caption{Stacked LSTM model Summary.}
\label{fig:ecg}
\end {center}
\end{figure}


\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{images/stacked (3).png}
\label{fig:ecg}
\end {center}
\end{figure}

\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{images/stacked (2).png}
\caption{Stacked LSTM model results.}
\label{fig:ecg}
\end {center}
\end{figure}

\subsubsection{Bidirectional LSTM}

In bidirectional RNNs, future states can also influence the present state and the past states by allowing information to flow backward. Past outputs are updated as needed depending on the new information received.

\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{Bidirectional.png}
\caption{Bidirectional LSTM model Graphical Layout.}
\label{fig:ecg}
\end {center}
\end{figure}

\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{Bidirectional1.png}
\caption{Bidirectional LSTM model Summary.}
\label{fig:ecg}
\end {center}
\end{figure}

\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=0.75\textwidth]{images/bi (5).png}
\includegraphics[width=0.75\textwidth]{images/bi (6).png}
\caption{Bidirectional LSTM model results.}
\label{fig:ecg}
\end {center}
\end{figure}

\section{Web API}
I then built a web API that can be used by pharmacy managers using the streamlit python framework. One is able to select one of the various machine learning models in a drop down selection menu as shown below.
\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=1\textwidth]{images/WebApp.PNG}
  \caption{Web App API.}
  \label{fig:ecg}
  \end {center}
  \end{figure}

\chapter{Discussion}

% Usually, start with a table of parameters similar to the one below, if this applies to your project.
Figure 4.1 shows that all the methods used have a less MSE than the currently used Naive forecasting methods.\\
\begin{figure}[H]%[!ht]
\begin {center}
\includegraphics[width=1\textwidth]{images/chart.png}
\caption{MSE overall results.}
\label{fig:ecg}
\end {center}
\end{figure}

However with more data of about 5 years or more, better results can be obtained for the LSTM methods .


% End with a conclusion chapter
\chapter{Conclusions and Future Works}
%\label{chap:conclusion}

\section{Conclusions}

%Conclude here
\subsection{Summary of findings}
This shows that the ARIMA gives the lowest MSE compared to the rest of the models.
\subsection{Limitations of Study}
Among the shortcomings of our research are the reluctance of most pharmacies especially those able to provide us with the long time-span data to avail us with this information considering it is company sensitive and only known to a specific set of employees.

\subsection{Recommendations}
We suggest that more data sets are used with a longer lifetime span of about 5 years worth data.We also suggest the incorporation of other secondary dependent features that affect the sales such as weather patterns, promotional sales, marketing elements in order to get more accurate results. 

\subsection{Acknowledgements}
I thank Dr.Andrew Katumba for the support offered at every stage of this project from day 1, he is a key component to enabling us see this idea to fruitation. We also acknowledge the management of Soteria pharmacy in Luweero district. Specifically Ms. Brenda that availed us with the required information and data plus explaining the entire workflow of the pharmacy purchasing process to us.\\

\section{Ideas for Future Work}
Incorparating a multivariate model that makes use of various input data to forecast the results such as weather data ,promotion sales data e.t.c
% Add any ideas for further work here


% You can also add a section on challenges and recommendations if you wish












%\bibliographystyle{alpha}

\medskip
%\bibliographystyle{IEEEtranN}
%\bibliography{doc}
%\bibliography{References}


\begin{thebibliography}{1}
    \bibitem{1}
    S. ~H. ~Perera, ~N. ~Jihan, ~M. ~Jayasinghe and ~Srinath "Sales forecasting using multivariate long short term memory network models,” \emph{PeerJ PrePrints,} vol. 7, pp. e27712, 2019. \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{2}
    Zadeh ~Khalil, ~N. ~Sepehri, ~M.~M., ~Farvaresh"Intelligent sales prediction for pharmaceutical distribution companies, A data mining based approach,” \emph{Mathematical Problems in Engineering,}  2014. \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{3}
    Lian-hong ~Cai, "Rough Set in Neural Network,” \emph{Computer Engineering,} Vol 27,No.5 pp65-69,2001. \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{4}
    Alex ~Krizhevsky, ~I ~Sutskever, and ~GE ~Hinton, "Imagenet classification with deep convolutional neural networks. Advances in Neural Information Processing Systems,” \emph{object recognition,} pages 1–9, 2012 \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{5}
    O ~Abdel-~Hamid and ~A ~Mohamed. "Applying convolutional neural networks concepts to hybrid NN-HMM model for speech recognition,” \emph{Acoustics, Speech, and Signal Processing,} 2012 \hskip 1em plus 0.5em minus 0.4em \relax 

    
    \bibitem{6}
    R. ~Collobert and ~Jason ~Weston. "A unified architecture for natural language processing: Deep neural networks with multitask learning,” \emph{Proceedings of the 25th international conference on Machine learning,} 2008 \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{7}
    HP ~Martinez. "Learning deep physiological models of affect.” \emph{Computational Intelligence Magazine,} (April):20–33, 2013. (physiological affect modelling) \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{8}
    Atiya, ~Amir ~F. , ~Gayar, ~Neamat ~El and ~El-~Shishiny, ~Hisham(2010) "An Empirical Comparison of Machine Learning Models for Time Series Forecasting.” \emph{Econometric Reviews,} 29: 5, 594-621  \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{9}
    S. ~Prasad, ~P. ~Prasad. "Deep Recurrent Neural Networks for Time Series Prediction”  \hskip 1em plus 0.5em minus 0.4em \relax 

    
    \bibitem{10}
     "DeepLearningforEvent-DrivenStockPrediction Mladen Dalto 'Deep neural networks for time series prediction with applications in ultra-short-term wind forecasting” \emph{2015 IEEE International Conference on Industrial Technology (ICIT)}   \hskip 1em plus 0.5em minus 0.4em \relax 

    
    \bibitem{11}
    XiaoDing, ~YueZhang, ~TingLiu, ~JunwenDuan, ~Mladen ~Dalto, "Deep neural networks for time series prediction with applications in ultrashort-term wind forecasting time series I” \emph{University of Zagreb, Faculty of Electrical Engineering and Computing}  \hskip 1em plus 0.5em minus 0.4em \relax 

    \bibitem{12}
     
    Lisa ~Tagliaferri"An Introduction to Machine Learning” \emph{https://www.digitalocean.com/community/tutorials/an-introduction-to-machine-learning}  \hskip 1em plus 0.5em minus 0.4em \relax 


    \bibitem{13}
     
    Davide ~Burba"An overview of time series forecasting models” \emph{https://towardsdatascience.com/an-overview-of-time-series-forecasting-models-a2fa7a358fcb}  \hskip 1em plus 0.5em minus 0.4em \relax 


    

\end{thebibliography}		

%% the bibliography style determines the format  in which both citations and references are printed,
%% other possible values are plain and abbrv
%%
%% If you want more control of the format of your citations you might want to take a look at
%% natbib.sty, which should be part of any standard LaTeX installation
%%
%% University regulations simply require that your citation style be consistent, so see what style
%% your supervisor recommends.

% Appendices start here



\appendix

\chapter{Appendix}


\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=1\textwidth]{images/NaiveCode.PNG}
  \caption{My Naive forecast code Base on Google Colab}
  \label{fig:ecg}
  \end {center}
\end{figure}
  
\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=1\textwidth]{images/VanillaLSTM.PNG}
  \caption{My Vanilla LSTM forecast code Base on Google Colab}
  \label{fig:ecg}
  \end {center}
\end{figure}

\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=1\textwidth]{images/StackedLSTM.PNG}
  \caption{My Stacked LSTM forecast code Base on Google Colab}
  \label{fig:ecg}
  \end {center}
\end{figure}


\begin{figure}[H]%[!ht]
  \begin {center}
  \includegraphics[width=1\textwidth]{images/MSEresults.PNG}
  \caption{Results of the machine learning forecast}
  \label{fig:ecg}
  \end {center}
\end{figure}


\end{document}
